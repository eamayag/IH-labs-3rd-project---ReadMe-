{"ast":null,"code":"import _defineProperty from \"/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/src/components/content/EditProfile.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport ProfileService from \"./ProfileService\";\n\nvar Edit =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Edit, _Component);\n\n  function Edit(props) {\n    var _this;\n\n    _classCallCheck(this, Edit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Edit).call(this, props));\n\n    _this.handleFormSubmit = function (e) {\n      e.preventDefault();\n\n      _this.profileService.updateProfile(_this.state).then(function (user) {\n        /* console.log(user); */\n        _this.setState({\n          redirect: true\n        });\n      });\n    };\n\n    _this.handleChange = function (event, type) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value; //console.log(type, event.target.name, event.target.value);\n\n      var copy = _objectSpread({}, _this.state);\n\n      console.log(copy);\n\n      _this.setState(_defineProperty({}, type, _defineProperty({}, name, value)));\n    };\n\n    _this.state = {\n      redirect: false,\n      user: {},\n      contact: {},\n      condition: {},\n      treatment: {}\n    };\n    _this.connection = axios.create({\n      baseURL: 'http://localhost:3001/profile',\n      withCredentials: true\n    });\n    _this.profileService = new ProfileService();\n    return _this;\n  }\n\n  _createClass(Edit, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          name = _this$state.name,\n          email = _this$state.email,\n          dateOfBirth = _this$state.dateOfBirth,\n          address = _this$state.address,\n          city = _this$state.city,\n          contactname = _this$state.contactname,\n          relationshipcontact = _this$state.relationshipcontact,\n          contactphone = _this$state.contactphone,\n          bloodGroup = _this$state.bloodGroup,\n          allergies = _this$state.allergies,\n          diagnosis = _this$state.diagnosis,\n          drug = _this$state.drug,\n          administration = _this$state.administration,\n          ambulance = _this$state.ambulance,\n          additionalInfo = _this$state.additionalInfo;\n      if (this.state.redirect) return React.createElement(Redirect, {\n        to: \"/profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Edit your \", React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"ReadMe!\"), \" profile:\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Remember this is the info we will show on your NFC card. Just fill what you want to show, leave blank the rest.\"), React.createElement(\"form\", {\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Your personal info:\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Your full name\",\n        value: this.state.name,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'user');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"email:\"), React.createElement(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Your email\",\n        value: this.state.email,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'user');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Date of birth:\"), React.createElement(\"input\", {\n        type: \"date\",\n        name: \"dateOfBirth\",\n        value: this.state.dateOfBirth,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'user');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Address:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"address\",\n        value: this.state.address,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'user');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"City:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"city\",\n        value: this.state.city,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'user');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Your emergency contact:\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Name of your emergency contact:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"contactname\",\n        placeholder: \"Name of your emergency contact\",\n        value: this.state.contactname,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'contact');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Relationship with your emergency contact:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"relationshipcontact\",\n        placeholder: \"is my...(cousin? mother? brother?)\",\n        value: this.state.relationshipcontact,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'contact');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Phone of your emergency contact:\"), React.createElement(\"input\", {\n        type: \"tel\",\n        name: \"phone\",\n        value: this.state.contactphone,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'contact');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Your medical emergency info:\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Blood group:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"bloodGroup\",\n        placeholder: \"0+, 0-, A+, A-, B+, B-, AB+, AB-\",\n        value: this.state.bloodGroup,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'condition');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Allergies:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"allergies\",\n        placeholder: \"allergies\",\n        value: this.state.allergies,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'condition');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Any important disease you want to inform about in your NFC card?\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"diagnosis\",\n        placeholder: \"I have...\",\n        value: this.state.diagnosis,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'condition');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Your treatment in an emergency situation:\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Medication you need to be administered inmediately:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"drug\",\n        placeholder: \"name of medication\",\n        value: this.state.drug,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'treatment');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"How should anyone give this medication to you?\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"administration\",\n        placeholder: \"example: \\\"I must put two pills under my tongue\\\"...\",\n        value: this.state.administration,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'treatment');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Will you need an ambulance, or going to a hospital, in addition to your medication?\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"ambulance\",\n        placeholder: \"\\\"Yes, call an ambulance/No, I will be ok with my medication\\\"\",\n        value: this.state.ambulance,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'treatment');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Any additional info you think anyone could need to help you:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"additionalInfo\",\n        placeholder: \"example: \\\"I am deaf/I need to be sitted/I am afraid of dogs\\\"\",\n        value: this.state.additionalInfo,\n        onChange: function onChange(e) {\n          return _this2.handleChange(e, 'treatment');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\nexport default Edit;","map":{"version":3,"sources":["/home/esperanza/code/WEBDEV/8th week/ReadMe - project/front/src/components/content/EditProfile.js"],"names":["React","Component","Redirect","axios","ProfileService","Edit","props","handleFormSubmit","e","preventDefault","profileService","updateProfile","state","then","user","setState","redirect","handleChange","event","type","target","name","value","copy","console","log","contact","condition","treatment","connection","create","baseURL","withCredentials","email","dateOfBirth","address","city","contactname","relationshipcontact","contactphone","bloodGroup","allergies","diagnosis","drug","administration","ambulance","additionalInfo"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport ProfileService from \"./ProfileService\";\n\nclass Edit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n     redirect: false,\n      user: {},\n      contact: {},\n      condition: {},\n      treatment: {}\n    };\n\n    this.connection = axios.create({\n      baseURL: 'http://localhost:3001/profile',\n      withCredentials: true\n    })\n\n    this.profileService = new ProfileService();\n  }\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();    \n    this.profileService.updateProfile(this.state)\n    .then(user => {/* console.log(user); */ this.setState({redirect: true})})\n  }\n\n  handleChange = (event, type) => {  \n    let {name, value} = event.target\n    //console.log(type, event.target.name, event.target.value);\n    let copy = {...this.state};\n    console.log(copy)\n\n    this.setState({[type]: {[name] : value}})\n  }\n\n  render() {\n    let { name, email, dateOfBirth, address, city, contactname, \n      relationshipcontact, contactphone, bloodGroup, allergies,\n      diagnosis, drug, administration, ambulance, additionalInfo } = this.state;\n    if (this.state.redirect) return <Redirect to='/profile' />\n    return (\n      <div>\n        <h1>\n          Edit your <em>ReadMe!</em> profile:\n        </h1>\n        <p>Remember this is the info we will show on your NFC card. Just fill what you want to show, leave blank the rest.</p>\n        <form onSubmit={this.handleFormSubmit}>\n          <div>\n            <h4>Your personal info:</h4>\n            <label>Name:</label>\n            <input type='text' name='name' placeholder='Your full name' value={this.state.name} onChange={ e => this.handleChange(e, 'user')}/>\n            <br></br>    \n            <label>email:</label>\n            <input type='email' name='email' placeholder='Your email' value={this.state.email} onChange={ e => this.handleChange(e, 'user')}/>\n            <br></br>\n            <label>Date of birth:</label>\n            <input type='date' name='dateOfBirth' value={this.state.dateOfBirth} onChange={ e => this.handleChange(e, 'user')}/>\n            <br></br>\n            <label>Address:</label>\n            <input type='text' name='address' value={this.state.address} onChange={ e => this.handleChange(e, 'user')}/>\n            <br></br>\n            <label>City:</label>\n            <input type='text' name='city' value={this.state.city} onChange={ e => this.handleChange(e, 'user')}/>\n            <br></br>\n          </div>\n          <div>\n            <h4>Your emergency contact:</h4>\n            <label>Name of your emergency contact:</label>\n            <input type='text' name='contactname' placeholder='Name of your emergency contact' value={this.state.contactname} onChange={ e => this.handleChange(e, 'contact')}/>\n            <br></br>    \n            <label>Relationship with your emergency contact:</label>\n            <input type='text' name='relationshipcontact' placeholder='is my...(cousin? mother? brother?)' value={this.state.relationshipcontact} onChange={ e => this.handleChange(e, 'contact')}/>\n            <br></br>    \n            <label>Phone of your emergency contact:</label>\n            <input type='tel' name='phone' value={this.state.contactphone} onChange={ e => this.handleChange(e, 'contact')}/>\n            <br></br>\n          </div>\n          <div>\n            <h4>Your medical emergency info:</h4>\n            <label>Blood group:</label>\n            <input type='text' name='bloodGroup' placeholder='0+, 0-, A+, A-, B+, B-, AB+, AB-' value={this.state.bloodGroup} onChange={ e => this.handleChange(e, 'condition')}/>\n            <br></br>    \n            <label>Allergies:</label>\n            <input type='text' name='allergies' placeholder='allergies' value={this.state.allergies} onChange={ e => this.handleChange(e, 'condition')}/>\n            <br></br>    \n            <label>Any important disease you want to inform about in your NFC card?</label>\n            <input type='text' name='diagnosis' placeholder='I have...' value={this.state.diagnosis} onChange={ e => this.handleChange(e, 'condition')}/>\n            <br></br>\n          </div>\n          <div>\n            <h4>Your treatment in an emergency situation:</h4>\n            <label>Medication you need to be administered inmediately:</label>\n            <input type='text' name='drug' placeholder='name of medication' value={this.state.drug} onChange={ e => this.handleChange(e, 'treatment')}/>\n            <br></br>    \n            <label>How should anyone give this medication to you?</label>\n            <input type='text' name='administration' placeholder='example: \"I must put two pills under my tongue\"...' value={this.state.administration} onChange={ e => this.handleChange(e, 'treatment')}/>\n            <br></br>    \n            <label>Will you need an ambulance, or going to a hospital, in addition to your medication?</label>\n            <input type='text' name='ambulance' placeholder='\"Yes, call an ambulance/No, I will be ok with my medication\"' value={this.state.ambulance} onChange={ e => this.handleChange(e, 'treatment')}/>\n            <br></br>\n            <label>Any additional info you think anyone could need to help you:</label>\n            <input type='text' name='additionalInfo' placeholder='example: \"I am deaf/I need to be sitted/I am afraid of dogs\"' value={this.state.additionalInfo} onChange={ e => this.handleChange(e, 'treatment')}/>\n            <br></br>\n          </div>\n          <input type='submit' value='Submit'/>\n        </form>\n      </div>\n    );\n  }\n\n}\n\nexport default Edit;\n"]},"metadata":{},"sourceType":"module"}